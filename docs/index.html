<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TapKraken | RGB Edition</title>
  <!-- Футуристичный шрифт для усиления эффекта -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Загрузочный экран с анимацией -->
  <div id="loading-screen">
    <img src="loading-screen.webp" alt="Загрузка..." id="loading-image">
  </div>
  
  <!-- Дополнительный контейнер для фоновых частиц -->
  <div id="particle-container"></div>

  <!-- Основной контент -->
  <div id="main-content" style="display: none;">
    <header id="header">
      <h1>TapKraken</h1>
      <p>Нажимай на Кракена и собирай Kraken Coin!</p>
    </header>

    <div id="game-container">
      <p>Очки: <span id="score">0</span></p>
      <p>Энергия: <span id="energy">500</span></p>

      <div id="kraken-container">
        <!-- При клике вызывается tap(event) -->
        <img id="kraken" src="images/kraken_1.png" alt="Kraken" draggable="false" onclick="tap(event)">
      </div>

      <div id="menu-buttons">
        <button onclick="openShop()">Магазин</button>
        <button id="open-puzzle-btn">Головоломка</button>
      </div>
    </div>

    <!-- Магазин (без удаления старого функционала) -->
    <div id="shop-modal">
      <div id="shop-content">
        <h2>Магазин</h2>
        <div class="shop-item" onclick="buyUpgrade(1, 10, 50)">+1 очко/тап (-50 энергии) — 10 очков</div>
        <div class="shop-item" onclick="buyUpgrade(5, 50, 100)">+5 очков/тап (-100 энергии) — 50 очков</div>
        <div class="shop-item" onclick="buyEnergyRegen(1, 30)">+1 к восстановлению энергии — 30 очков</div>
        <div class="shop-item" onclick="buyAutoClicker(1, 100)">Автокликер (+1 очко/сек) — 100 очков</div>
        <button id="close-shop" onclick="closeShop()">Закрыть</button>
      </div>
    </div>

    <!-- Модальное окно головоломки -->
    <div id="puzzle-modal">
      <div id="puzzle-content">
        <h2>Головоломка: Вытаскивание машины</h2>
        <div id="puzzle-levels">
          <button onclick="startPuzzle('easy')">Лёгкий</button>
          <button onclick="startPuzzle('medium')">Средний</button>
          <button onclick="startPuzzle('hard')">Сложный</button>
        </div>
        <p id="puzzle-timer">Время: <span id="timer">60</span> секунд</p>
        <div id="puzzle-container">
          <!-- Генерация сетки головоломки через puzzle.js -->
        </div>
        <button id="close-puzzle" onclick="closePuzzle()">Назад</button>
      </div>
    </div>
  </div>
  
  <!-- Важно: сначала puzzle.js, затем script.js -->
  <script src="puzzle.js"></script>
  <script src="script.js"></script>
</body>
</html>
